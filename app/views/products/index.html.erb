<p id="notice"><%= notice %></p>

<h1>Produtos</h1>

<table class="table">
  <thead>
    <tr>
      <th>#</th>
      <th>Nome</th>
      <th>Descrição</th>
      <th>Imagem</th>
      <th>Total de itens</th>
      <th colspan="3">Opções</th>
    </tr>
  </thead>

  <tbody>
    <% @products.each_with_index do |product, index| %>
      <tr>
        <th scope="row"><%= index + 1 %></th>
        <td><%= product.name %></td>
        <td><%= product.description %></td>
        <td><%= image_tag product.image, width: 100, height: 50 %></td>
        <td><%= total_itens(product.id)%></td>
        <td><%= link_to 'Mostrar', product %></td>
        <td><%= link_to 'Editar', edit_product_path(product) %></td>
        <td><%= link_to product, method: :delete, data: { confirm: 'Tem certeza?' } do%>
          <span class="badge badge-danger">Remover</span>
          <%end%>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= button_to 'Novo Produto', new_product_path, method: :get, class: 'btn btn-primary' %>
